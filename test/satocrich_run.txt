process PROD  = {

	source = HcalTBInputService { 
		untracked vstring fileNames = { 'HTBqc_000935.root' }
		untracked int32 maxEvents = 200
//		untracked int32 hcalFedOffset = 559
                untracked vstring streams = { 'HCAL_DCC020:20','HCAL_Trigger' }
	}

	module unpacker = HcalRawToDigi {
                untracked int32 firstSample = 4
                untracked int32 lastSample = 13
                untracked int32 HcalFirstFED = 20
                untracked vint32 FEDs = { 20 }
		untracked bool FilterDataQuality = true
		untracked bool FilterAmplitude = true
		untracked int32 FilterAmpBegin = 4
		untracked int32 FilterAmpEnd = 7
		untracked double FilterAmpLevel = 22.0
		untracked string readoutMapSource = 'file://../../../CondFormats/HcalMapping/test/satocrich.txt'
	}

	module reco = HcalSimpleReconstructor {
	       untracked int32 firstSample = 4
	       untracked int32 samplesToAdd = 4
	       untracked string Subdetector = 'HBHE'
	}

        module dumper = HcalDigiDump {
        }
        module dumper2 = HcalRecHitDump {
        }

	module out = PoolOutputModule {	
		untracked string fileName = 'Persist.root'
	}

	path p = { unpacker, dumper, reco, dumper2, out }
}
